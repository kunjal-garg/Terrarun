# PostgreSQL (required for persistence)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/terrarun?schema=public

# Signing key for session cookie (use a long random string in production)
SESSION_SECRET=change-me-in-production

# Strava â€“ from https://www.strava.com/settings/api (set Authorization Callback Domain to "localhost")
STRAVA_CLIENT_ID=
STRAVA_CLIENT_SECRET=
STRAVA_REDIRECT_URI=http://localhost:8787/auth/strava/callback
FRONTEND_URL=http://localhost:5173

# Optional: set to 1 or true to enable territory debug logs and GET /api/debug/territory-db
# DEBUG=

# Optional: minimum minutes between auto-syncs (default 60). Used by POST /api/strava/auto-sync.
# AUTO_SYNC_MINUTES=60

# Render: set FRONTEND_URL to your frontend URL. Set STRAVA_REDIRECT_URI to https://<your-api>.onrender.com/auth/strava/callback (required; otherwise redirect_uri can be wrong). Use Build Command: (none or npm install && npx prisma generate). Start Command: npm run start:render

# Optional: extra CORS origins (comma-separated). Use when testing a local frontend against this API (e.g. Render API + local Vite).
# Example: CORS_EXTRA_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
# CORS_EXTRA_ORIGINS=

# Optional: if browser drops cookie on 302 redirect (e.g. Vercel frontend + Render API), return HTML handoff page from Strava callback (new users) then client redirect. Set USE_COOKIE_HANDOFF_PAGE=1
# USE_COOKIE_HANDOFF_PAGE=
